# SmartShell_Alisa
Интеграция SmartShell и "Умный дом с Алисой"

Скрипт интеграции программы для управления компьютерным клубом smartshell.gg и yandex.ru/alice/smart-home (умный дом от яндекс)

Все что вам нужно для подключения:

1. Купить умную розетку, умеющую работать с умным домом от яндекса (почти любая)
Пример таких розеток:
https://aliexpress.ru/item/1005003640070178.html

2. В приложении "Умный дом" от яндекса, названия розеток должно совпадать с названием игровой приставки в SmartShell (в приложении названия можно выставлять только на кириллице!)
Пример:
ПС4 1
ХВОХ4 2 (набрано на кириллице)

3. Создать приложение яндекса, и получить токен на управление оборудованием "яндекс умный дом".
Как это сделать смотрите тут: https://www.youtube.com/watch?v=zHcx-TD4ZPU

4. Настроить конфиг в файле

```PHP
$login = "7956665557"; // логин smartshell
$password = "password"; // пароль smartshell
$id = "9999"; // узнать свой ид клуба http://ССЫЛКА/SmartShell_Alisa.php?d=clubs
$ya_token = "токен"; // как получить токен умного дома от яндекса смотрите http://www.youtube.com/watch?v=zHcx-TD4ZPU
```

5. Закинуть файл на веб хостинг, либо понять сервер на компьютере администратора с помощью того же openserver (https://ospanel.io/)

6. Создать задания в планировщике задач

на обновление токена на доступ к SmartShell

``
раз в сутки / пример cron - 00 00 * * *
wget http://адрес/SmartShell_Alisa.php?d=token
``

на опрос состояния розеток (яндекс умный дом) и приставок (в SmartShell)

``
раз в минуту / пример cron - * * * * *
wget http://адрес/SmartShell_Alisa.php?d=check
``

7. Получить токен для работы сейчас - http://адрес/SmartShell_Alisa.php?d=token
Проверить нет ли ошибок в логе, файл log.txt

Радуемся! Теперь работа ваших приставкой полностью автоматизирована!


Если вопросы, пишем сюда - https://t.me/zaifat
